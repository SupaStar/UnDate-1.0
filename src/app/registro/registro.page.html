<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <a (click)="login()"> <ion-icon name="arrow-back-outline"></ion-icon> </a>
    </ion-buttons>
    <ion-title>Registro</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-img
    src="assets/img/logo-sinfondo.png"
    style="margin-bottom: -3vh"
  ></ion-img>
  <div [formGroup]="usuario">
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Nombre(s)</ion-label>
            <ion-input
              type="text"
              formControlName="nombres"
              autocomplete="name"
            ></ion-input>
          </ion-item>
          <ion-label
            color="danger"
            class="error"
            *ngIf="usuario.controls.nombres.errors?.required && (usuario.controls.nombres.touched || usuario.controls.nombres.dirty)"
            >* El nombre es obligatorio
          </ion-label>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Apellidos</ion-label>
            <ion-input
              type="text"
              formControlName="apellidos"
              autocomplete="family-name"
            ></ion-input>
          </ion-item>
          <ion-label
            class="error"
            color="danger"
            *ngIf="usuario.controls.apellidos.errors?.required && (usuario.controls.apellidos.touched || usuario.controls.apellidos.dirty)"
            >* Los apellidos son obligatorios
          </ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Correo electrónico</ion-label>
            <ion-input
              type="email"
              formControlName="email"
              autocomplete="email"
            ></ion-input>
          </ion-item>
          <ion-label
            color="danger"
            class="error"
            *ngIf="usuario.controls.email.errors?.required && (usuario.controls.email.touched || usuario.controls.email.dirty)"
            >* El correo electrónico es obligatorio
          </ion-label>
          <ion-label
            color="danger"
            class="error"
            *ngIf="usuario.controls.email.errors?.email && (usuario.controls.email.touched || usuario.controls.email.dirty)"
            >* El correo electrónico no tiene un formato valido
          </ion-label>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Telefono</ion-label>
            <ion-input
              type="tel"
              inputmode="tel"
              formControlName="telefono"
              autocomplete="tel-local"
            ></ion-input>
          </ion-item>
          <ion-label
            class="error"
            color="danger"
            *ngIf="usuario.controls.telefono.errors?.required && (usuario.controls.telefono.touched || usuario.controls.telefono.dirty)"
            >* El teléfono es obligatorio
          </ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Contraseña</ion-label>
            <ion-input
              [type]="passwordTypeInput"
              #passwordEyeRegister
              formControlName="password"
              autocomplete="new-password"
              clearOnEdit="false"
            ></ion-input>
            <button
              item-end
              class="btn_eye_icon"
              (click)="togglePasswordMode()"
            >
              <ion-icon
                [name]="(passwordTypeInput === 'text')?'eye-off':'eye'"
              ></ion-icon>
            </button>
          </ion-item>
          <ion-label
            class="error"
            color="danger"
            *ngIf="usuario.controls.password.errors?.required && (usuario.controls.password.touched || usuario.controls.password.dirty)"
            >* La contraseña es obligatoria
          </ion-label>
          <ion-label
            class="error"
            color="danger"
            *ngIf="usuario.controls.password.errors?.minLength && (usuario.controls.password.touched || usuario.controls.password.dirty)"
            >* La contraseña debe tener mínimo 6 caracteres</ion-label
          >
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Confirmación de Contraseña</ion-label
            >
            <ion-input
              [type]="passwordConfirmTypeInput"
              #passwordEyeRegisterConfirm
              formControlName="password_confirmation"
              autocomplete="new-password"
              clearOnEdit="false"
            ></ion-input>
            <button
              item-end
              class="btn_eye_icon"
              (click)="togglePasswordMode2()"
            >
              <ion-icon
                [name]="(passwordConfirmTypeInput === 'text')?'eye-off':'eye'"
              ></ion-icon>
            </button>
          </ion-item>
          <ion-label
            class="error"
            color="danger"
            *ngIf="usuario.controls.password_confirmation.errors?.required && (usuario.controls.password_confirmation.touched || usuario.controls.password_confirmation.dirty)"
            >* La confirmación de contraseña es obligatoria
          </ion-label>
          <ion-label
            class="error"
            color="danger"
            *ngIf="usuario.controls.password_confirmation.errors?.minLength && (usuario.controls.password_confirmation.touched || usuario.controls.password_confirmation.dirty)"
            >* La contraseña debe tener mínimo 6 caracteres</ion-label
          >
        </ion-col>
      </ion-row>
    </ion-grid>
    <div class="inferior">
      <a id="aviso">Al registrarte aceptas nuestra política de privacidad</a>
      <ion-button
        expand="block"
        [disabled]="!usuario.valid"
        (click)="registro()"
        color="medium"
        class="btnRegistro"
      >
        Registrarse
      </ion-button>
    </div>
  </div>
  <ion-modal
    trigger="aviso"
    [breakpoints]="[0.1, 0.5, 1]"
    [initialBreakpoint]="1"
  >
    <ng-template>
      <ion-content>
        <h2><b>POLÍTICA DE PRIVACIDAD</b></h2>
        <p class="contenido_Aviso">
          El presente Política de Privacidad establece los términos en que Un
          Date usa y protege la información que es proporcionada por sus
          usuarios al momento de utilizar su aplicación Movil. Esta compañía
          está comprometida con la seguridad de los datos de sus usuarios.
          Cuando le pedimos llenar los campos de información personal con la
          cual usted pueda ser identificado, lo hacemos asegurando que sólo se
          empleará de acuerdo con los términos de este documento. Sin embargo
          esta Política de Privacidad puede cambiar con el tiempo o ser
          actualizada por lo que le recomendamos y enfatizamos revisar
          continuamente esta página para asegurarse que está de acuerdo con
          dichos cambios.
        </p>
        <h2>
          <b>
            Información que es recogida Nuestra aplicación podrá recoger
            información</b
          >
        </h2>
        <p class="contenido_Aviso">
          personal por ejemplo: Nombre, información de contacto como su
          dirección de correo electrónica e información demográfica. Así mismo
          cuando sea necesario podrá ser requerida información específica para
          procesar algún pedido o realizar una entrega o facturación.
        </p>
        <h2>
          <b>Uso de la información recogida</b>
        </h2> 
        <p class="contenido_Aviso">
          Nuestra aplicación emplea la información con el fin de proporcionar
          el mejor servicio posible, particularmente para mantener un registro
          de usuarios, de pedidos en caso que aplique, y mejorar nuestra
          aplicación. Así mismo, Nuestra aplicación empleará la información
          con el fin de prestar el servicio solicitado por el usuario,
          particularmente para proporcionar el mejor servicio posible.
        </p>
        <h2>
          <b>
            Control de su información personal
          </b>
        </h2>
        <p class="contenido_Aviso">
          En cualquier momento usted puede restringir la recopilación o el
          uso de la información personal que es proporcionada a nuestra
          aplicación.
        </p>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
